# Example configuration file for Koanf

server:
  host: localhost
  port: 8080
  tls:
    enabled: false
    cert_file: ""
    key_file: ""
  timeout: 30s
  max_connections: 100

database:
  host: localhost
  port: 5432
  user: app_user
  password: changeme
  name: app_db
  max_connections: 20
  timeout: 10s
  ssl_mode: disable

redis:
  host: localhost
  port: 6379
  password: ""
  db: 0
  max_retries: 3

log:
  level: info          # debug, info, warn, error
  format: json         # json, text
  output: stdout       # stdout, stderr, file
  file: logs/app.log

features:
  api_enabled: true
  metrics_enabled: true
  tracing_enabled: false
  rate_limiting: true

security:
  cors:
    enabled: true
    allowed_origins:
      - http://localhost:3000
      - https://example.com
    allowed_methods:
      - GET
      - POST
      - PUT
      - DELETE
    allowed_headers:
      - Content-Type
      - Authorization
  jwt:
    secret: changeme-jwt-secret
    expiry: 24h

metrics:
  enabled: true
  port: 9090
  path: /metrics

tracing:
  enabled: false
  endpoint: http://localhost:14268/api/traces
  service_name: my-app
  sample_rate: 0.1
